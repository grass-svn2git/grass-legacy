PGM = ps.map

LIBES = $(VECTLIB) $(GISLIB) $(DATETIMELIB) $(DIG_ATTLIB) $(IMAGERYLIB) $(LINKMLIB) $(GMATHLIB)
DEPLIBS= $(DEPVECTLIB) $(DEPGISLIB) $(DEPDATETIMELIB) $(DEPDIG_ATTLIB) $(DEPIMAGERYLIB) $(DEPLINKMLIB) $(DEPGMATHLIB)

OBJ =	box_stuff.o \
	cellfile.o \
	chk_scale.o \
	comment.o \
	ctablfile.o \
	distance.o \
	do_grid.o \
	do_header.o \
	do_labels.o \
	do_masking.o \
	do_plfile.o \
	do_psfiles.o \
	do_sites.o \
	do_vectors.o \
	eps.o \
	error.o \
	fit_map.o \
	get_font.o \
	getgrid.o \
	gprims.o \
	groupfile.o \
	hdrfile.o \
	infofile.o \
	input.o \
	key_data.o \
	label.o \
	lblfile.o \
	main.o \
	makeprocs.o \
	map_info.o \
	map_setup.o \
	mtextbox.o \
	outl_io.o \
	parse_list.o \
	plfile.o \
	ps_area.o \
	ps_clrtbl.o \
	ps_fclrtbl.o \
	ps_colors.o \
	ps_header.o \
	ps_map.o \
	ps_outline.o \
	ps_vector.o \
	rast_plot.o \
	read_cfg.o \
	rgbfile.o \
	scale.o \
	scan_gis.o \
	scan_misc.o \
	scan_ref.o \
	session.o \
	sitefile.o \
	textbox.o \
	vectfile.o \
	vect.o \
	vlegend.o \
	vlegfile.o \
	windfile.o \
	yesno.o

all: $(BIN_CMD)/$(PGM) $(ETC)/paint/prolog.ps

$(BIN_CMD)/$(PGM): $(OBJ) $(DEPLIBS)
	$(CC) $(LDFLAGS) -o $@ $(OBJ) $(LIBES) $(MATHLIB) $(XDRLIB)

$(ETC)/paint/prolog.ps: prolog.ps
	${SHELL} -c "cp prolog.ps $(ETC)/paint/prolog.ps 2>/dev/null ; true"

$(OBJ):		ps_info.h
main.o:		vector.h labels.h map_info.h header.h colortable.h comment.h sites.h group.h
ps_map.o:	vector.h
map_setup.o:	group.h
do_vectors.o:	vector.h group.h
vectfile.o:	vector.h
vlegfile.o:	vector.h
vlegend.o:	vector.h
do_labels.o:	labels.h
lblfile.o:	labels.h
map_info.o:	map_info.h
infofile.o:	map_info.h
do_header.o:	header.h
hdrfile.o:	header.h
ps_clrtbl.o:	colortable.h
ctablfile.o:	colortable.h
comment.o:	comment.h
sitefile.o:	sites.h
do_sites.o:	sites.h
groupfile.o:	group.h

$(DEPLIBS):	#
