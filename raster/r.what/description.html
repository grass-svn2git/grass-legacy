<H2>DESCRIPTION</H2>

<EM>r.what</EM> outputs the category values and (optionally) the category
labels associated with user-specified locations on raster input map(s).
Locations are specified as geographic x,y coordinate pairs (i.e., pair of
eastings and northings); the user can also (optionally) associate a label
with each location.

<P>
The input coordinates can be entered directly on the command line, or
redirected via <tt>stdin</tt> from an input text file, script, or piped from
another program (like <EM><A HREF="d.where.html">d.where</A></EM>).
<P>
If none of the above input methods are used and the module is run from the
terminal prompt, the program will interactively query the user for point
locations and labels.
<P>
Each line of the input consists of an easting, a northing, and an optional
label, which are separated by spaces. In interactive mode, the word
"<tt>end</tt>" must be typed after the last pair of input coordinates.
<P>
<EM>r.what</EM> output consists of the input geographic location and label,
and, for each user-named raster map layer, the category value, and (if
the <B>-f</B> label flag is specified) the category label associated with
the cell(s) at this geographic location.


<H2>EXAMPLES</H2>


<h4>Input from <tt>stdin</tt> on the command line</h4>

Input coordinates may be given directly from <tt>stdin</tt>, for example:
<BR> (input data appears between the "<tt>EOF</tt>" markers)

<div class="code"><pre>
<b> r.what input=</b>soils,aspect << EOF
635342.21 7654321.09 site 1
653324.88 7563412.42 site 2
EOF

635342.21|7654321.09|site 1|45|21
653324.88|7563412.42|site 2|44|20
</pre></div>

<div class="code"><pre>
 echo "635342.21 7654321.09" | <b>r.what input=</b>soils,aspect
635342.21|7654321.09|45|21
</pre></div>

<h4>Input from a text file containing coordinates</h4>

The contents of an ASCII text file can be redirected to <EM>r.what</EM>
as follows. If we have a file called <i>input_coord.txt</i> containing the
coordinates and labels given in the example above:

<div class="code"><pre>
<b> r.what input</B>=soils,aspect < <i>input_coord.txt</i>

635342.21|7654321.09|site 1|45|21
653324.88|7563412.42|site 2|44|20
</pre></div>


<h4>Input coordinates given as a module option</h4>

The module's <b>east_north</b> parameter can be used to enter coordinate
pairs directly. The maximum number of pairs will be limited by your system's
maximum input line length (e.g. 4096 characters).

<div class="code"><pre>
<B> r.what input=</B>soils,aspect <B>east_north=</B>635342.21,7654321.09,653324.88,7563412.42

635342.21|7654321.09|45|21
653324.88|7563412.42|44|20
</pre></div>


<h4>Input coordinates piped from another program</h4>

The input coordinates may be "piped" from the <tt>stdout</tt> of another program.
For example:

<div class="code"><pre>
<b> d.where | r.what input</B>=soils,aspect

635342.21|7654321.09|45|21
653324.88|7563412.42|44|20
</pre></div>

In the next example, vector point coordinates are piped from the
<em>v.out.ascii</em> module . The standard UNIX program "<tt>tr</tt>" is
used to convert the column separators in <em>v.out.ascii</em>'s output into
spaces for <em>r.what</em>.


<div class="code"><pre>
<b> v.out.ascii</b> bugsites | tr '|' ' ' | <b>r.what input</B>=soils,aspect
</pre></div>

<h4>Output containing raster map category labels</h4>

Here we use the <B>-f</B> label flag to enable the output of category labels
associated with the raster cell(s), as well as values. (categorical maps only)

<div class="code"><pre>
<B> r.what -f input=</B>soils,aspect << EOF
635342.21 7654321.09 site 1
653324.88 7563412.42 site 2
EOF

635342.21|7654321.09|site 1|45|NaC|21|30 degrees NW 
653324.88|7563412.42|site 2|44|NdC|20|15 degrees NW 
</pre></div>



<H2>NOTE</H2>

The maximum number of raster map layers that can be queried at one time is 150.
<!-- as given by raster/r.what/main.c "#define NFILES 150" -->


<H2>SEE ALSO</H2>

<EM>
<A HREF="d.where.html">d.where</A>,
<A HREF="r.cats.html">r.cats</A>,
<A HREF="r.report.html">r.report</A>,
<A HREF="r.stats.html">r.stats</A>,
<A HREF="r.series.html">r.series</A>,
<A HREF="r.univar.html">r.univar</A>,
<A HREF="v.what.html">v.what</A>
<A HREF="v.what.rast.html">v.what.rast</A>
<A HREF="v.what.vect.html">v.what.vect</A>
</EM>

<H2>AUTHOR</H2>
Michael Shapiro,
U.S. Army Construction Engineering Research Laboratory

<p>
<i>Last changed: $Date$</i>
