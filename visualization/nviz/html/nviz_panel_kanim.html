<html>
<head>
 <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
 <title>GRASS Tutorial for nviz</title>
 <link rel="stylesheet" href="grassdocs.css" type="text/css">
</head>
<body bgcolor="#FFFFFF" link="#0000DF" vlink="#006000">

<img src="grass.smlogo.gif"><hr align=center size=6 noshade>

<h1>NVIZ Reference Manual</h1>
<hr width="100%" align=center size=4 noshade>
<p>
<a href="nviz_toc.html">CONTENTS</a>
</p>

<h2>Keyframe Animation Panel</h2>

<p>The <strong>Keyframe Animation</strong> panel lets you create complex animations where you need precise camera control. Each keyframe that you set has nine <em>channels</em>, and each <em>channel</em> represents a part of the current view. For example, the <em>Field of View</em> (FOV) is a separate channel in each keyframe.
</p>

<img src="nvimg/panel/keyanim.gif" alt="Keyframe Animation Panel" width="355" height="436">

<h3>OPTIONS</h3>

<dl>

<dt><img src="nvimg/panel/anim2.gif" alt="Play Reverse" width="16" height="16"> (Reverse Play)</dt>
<dd>Plays the animation backwards.
<br><br></dd>

<dt><img src="nvimg/panel/anim1.gif" alt="Step Back" width="16" height="16"> (Reverse)</dt>
<dd>Moves backward through the animation one frame at a time. 
<br><br></dd>

<dt><img src="nvimg/panel/anim5.gif" alt="Stop" width="16" height="16"> (Stop)</dt>
<dd>Stops the animation. 
<br><br></dd>

<dt><img src="nvimg/panel/anim3.gif" alt="Step Forward" width="16" height="16">(Forward)</dt>
<dd>Moves forward through the animation one frame at a time.
<br><br></dd>

<dt><img src="nvimg/panel/anim4.gif" alt="Play" width="16" height="16">(Play)</dt>
<dd>Plays the animation.
<br><br></dd>

<dt> <strong>Framerate</strong></dt>
<dd>Sets the framerate (frames per second) for the animation. 
<br><br></dd>

<dt> <strong>Keyframe Attributes</strong></dt>
<dd>The <strong>Keyframe Attributes</strong> scrollbar on the left moves through the nine channels of each keyframe. The bottom scrollbar moves through the user defined keyframes.
A thick vertical blue line marks the current position (frame) in the animation. The key time appears below this line in black. A light blue rectangle indicates selected channels for each keyframe. The key time for each keyframe appears below in light blue.
<br>
To change the current position (frame) in the animation, click or click and drag in the channels area. To change the position (time) of the selected keyframe, click and drag the key time. To select a keyframe(s) for deletion, middle-click the key time.
<br><br>
<img src="nvimg/panel/keyexample.gif" alt="Keyframe Attributes" width="354" height="226">
<br><br>

<dl>
<dt> <strong>Channels</strong></dt>
<dd>Each keyframe has nine channels that you can either turn on or off. The default for all channels is on. You need to set your channel options before adding a keyframe.
<br><br></dd>
<dd>
	<dl>
	<dt> <strong>FromX</strong></dt>
	<dd>Records the X coordinate of the camera (if selected).
	<br><br></dd>
	<dt> <strong>FromY</strong></dt>
	<dd>Records the Y coordinate of the camera (if selected).
	<br><br></dd>
	<dt> <strong>FromZ</strong></dt>
	<dd>Records the Z coordinate of the camera (if selected).
	<br><br></dd>
	<dt> <strong>DirX</strong></dt>
	<dd>Records the X coordinate of the center of view (if selected).
	<br><br></dd>
	<dt> <strong>DirY</strong></dt>
	<dd>Records the Y coordinate of the center of view (if selected).
	<br><br></dd>
	<dt> <strong>DirZ</strong></dt>
	<dd>Records the Z coordinate of the center of view (if selected).
	<br><br></dd>
	<dt> <strong>FOV</strong></dt>
	<dd>Records the Field of View (if selected).
	<br><br></dd>
	<dt> <strong>TWIST</strong></dt>
	<dd>Records the twist of the camera (if selected).
	<br><br></dd>
	<dt> <strong>cplane-0</strong></dt>
	<dd>Records the current position of the cutting plane (if selected).
	<br><br></dd>
	</dl>
</dd>
</dl></dd>

<dt> <strong>Add</strong></dt>
<dd>Adds a key frame at the current key time. The <strong>New Key Time</strong> automatically increments by 1 minute after each keyframe is added. 
<br><br></dd>

<dt> <strong>Delete</strong></dt>
<dd>Deletes all selected keyframes from the animation. You select keyframes from the <strong>Keyframe Attributes</strong> by middle-clicking on the key time. Deleted keyframes are not recoverable. 
<br><br></dd>

<dt> <strong>New Key Time</strong></dt>
<dd>Allows you to set a new key time. You enter key times as minutes, seconds, and frame number. Each time you add a keyframe, the key time automatically increments by 1 minute. 
To calculate the length of the animation (in frames), use this formula <em>(minutes*60 + seconds)*frame rate + frame number</em>. 
<br><br></dd>

<dt> <strong>Show</strong></dt>
<dd>Use the next three options to annotate the animation.
<br><br></dd>
<dd>
	<dl>
	<dt> <strong>Path</strong></dt>
	<dd>Shows the path that the animation follows between key frames (if selected). This is useful for adjusting the tension if using a spline interpolation.
	<br><br></dd>
	<dt> <strong>Vect</strong></dt>
	<dd>Draws all loaded vector files in the animation (if selected).
	<br><br></dd>
	<dt> <strong>Sites</strong></dt>
	<dd>Draws all loaded sites files in the animation (if selected).
	<br><br></dd>
	</dl>
</dd>

<dt> <strong>Interp.</strong></dt>
<dd>Sets the interpolation used between key frames. 
<br><br></dd>


<dd>
	<dl>
	<dt> <strong>Linear</strong></dt>
	<dd>Uses a linear interpolation between key frames.
	<br><br></dd>
	<dt> <strong>Spline</strong></dt>
	<dd>Uses a spline interpolation between key frames at the selected tension.
	<br><br></dd>
	<dt> <strong>Tension</strong></dt>
	<dd>Sets the tension of the spline interpolation.
	<br><br></dd>
	</dl>
</dd>

<dt> <strong>File</strong></dt>

<dd>
	<dl>
	<dt> <strong>Save</strong></dt>
	<dd>Saves the keyframes attributes to a user defined file.
	<br><br></dd>
	<dt> <strong>Load</strong></dt>
	<dd>Loads a previously saved keyframe animation file.
	<br><br></dd>
	</dl>
</dd>


<dt> <strong>Run and Save</strong></dt>
<dd>Runs the animation and saves each frame as an image. You must supply a file name prefix, frame start number, image type, and draw type. The image file name includes the file prefix, frame number and image type. For example, frame number 12 with a file prefix of FLY saved as a PPM would be named FLY0012.ppm. You can choose to render the animation off-screen (in memory). To render off-screen, you need to minimize the <strong>NVIZ</strong> viewer. 
<br><br></dd>

<dt><strong>Close</strong></dt>
<dd>Closes the <strong>KeyFrame Animation</strong> panel.<br><br></dd>

</body>
</html>
