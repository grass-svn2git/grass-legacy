<h2>DESCRIPTION</h2>

<P><em>g.proj</em> provides a means of manipulating GRASS projection
information files. If compiled without 
<A HREF="http://remotesensing.org/gdal/ogr/">OGR</A> present, the
functionality is limited to reporting the projection information for the
current location, either in conventional GRASS (-p flag) or PROJ.4 (-j flag) 
format, and verifying the datum transformation information in the location
(-d flag).</P>

<P>When compiled with OGR, functionality is increased and allows output of
the projection information in the Well-Known Text (WKT) format popularised
by proprietary GIS.</P>

<P>If one of the parameters <em>georef</em>, <em>wkt</em> or 
<em>proj4</em> is specified, rather than the projection information being 
read from the current location it is imported from an external source 
as follows:
<dl>
<dt>georef=<em>filename</em></dt>
<dd><em>g.proj</em> attempts to invoke GDAL and OGR in turn to read a
georeferenced file <em>filename</em>. The projection information will be
read from this file. If the file is not georeferenced or cannot be read,
XY (unprojected) will be used.</dd>

<dt>wkt=<em>filename</em> or <em>-</em></dt>
<dd>The file <em>filename</em> should contain a projection description in
WKT format with no line-breaks (e.g. a '.prj' file). If <em>-</em> is given for
the filename, the WKT description will be read from stdin rather than a
file.</dd>

<dt>proj4=<em>description</em> or <em>-</em></dt>
<dd><em>description</em> should be a projection description in 
<A HREF="http://remotesensing.org/proj/">PROJ.4</a> format, enclosed in
quotation marks if there are any spaces. If <em>-</em> is given for
<em>description</em>, the PROJ.4 description will be read from stdin rather 
than as a directly-supplied command-line parameter.</dd>
</dl>
</P>

<P>The -p, -j, -w, etc. flags are all functional when importing projection
information from an external source, meaning that <em>g.proj</em> can be
used to convert between representations of the information.</P>

<P>In addition, if the -c flag is specified, <em>g.proj</em> will create new
GRASS projection files (PROJ_INFO, PROJ_UNITS, WIND and DEFAULT_WIND) based
on the imported information. If the <em>location</em> parameter is
specified in addition to -c, then a new location will be created. Otherwise
the projection information files in the current location will be
overwritten. The program will warn before doing this.</P>

<P>If compiled without OGR, the -c flag and <em>location</em> parameter will
still be operational. However, since projection information cannot be read
from an external source in this case, their use will be limited to creating a 
new location with the same co-ordinate system as the current one (or
overwriting the projection files in the current location with identical
copies).</P>

<H2>NOTES</H2>

<P>GRASS uses a local copy of the GDAL CSV co-ordinate system and datum
information files, stored in the directory $(GISBASE)/etc/ogr_csv . This
allows many possible ways of initializing a co-ordinate system, such as EPSG
codes etc.</P>

<H2>EXAMPLES</H2>

Print the projection information for the current location:<br>

<div class="code"><pre>
g.proj -p
</pre></div>

<p>
Create a '.prj' file in ESRI format corresponding to the current location:<br>

<div class="code"><pre>
g.proj -wef > irish_grid.prj
</pre></div>

<p>
Read the projection information from a geotiff file and print it in PROJ.4
format:<br>

<div class="code"><pre>
g.proj -jf georef=ASTER_DEM20020508161837.tif
</pre></div>

<p>
Convert the PROJ.4 projection description contained in a text file to WKT
format:<br>

<div class="code"><pre>
cat proj4.description | g.proj -w proj4=-
</pre></div>

<p>
Create a new location with the co-ordinate system referred to by EPSG code
4326 (Latitude-Longitude/WGS84):<br>

<div class="code"><pre>
g.proj -c proj4='+init=epsg:4326' location=latlong
</pre></div>

<p>
Create a new location with the co-ordinate system referred to by EPSG code
29900 (Irish Grid):<br>

<div class="code"><pre>
g.proj -c proj4='+init=epsg:29900' location=irish_grid
</pre></div>

<p>
Create a new location with the same co-ordinate system as the current
location:<br>

<div class="code"><pre>
g.proj -c location=newloc
</pre></div>

<p>
Create a new location with the co-ordinate system from a WKT definition
stored in a text file:<br>

<div class="code"><pre>
g.proj -c wkt=irish_grid.prj location=irish_grid
</pre></div>

<p>
Reproject external raster map to current GRASS projection (does not always make sense!)
using the GDAL 'gdalwarp' tool. We recommend to use the ERDAS/Img format and not
to use the ESRI style of WKT:<br>
<div class="code"><pre>
gdalwarp -of HFA -t_srs "`g.proj -wf`" aster.img aster_tmerc.img
</pre></div>

<p>
Reproject external vector map to current GRASS projection (does not always make sense!)
using the OGR 'ogr2ogr' tool (using ESRI style of .prj file):<br>
<div class="code"><pre>
ogr2ogr -t_srs "`g.proj -wef`" polbnda_italy_GB_ovest.shp polbnda_italy_LL.shp
</pre></div>


<H2>REFERENCES</H2>

<a href=http://proj.maptools.org>PROJ 4</a>: Projection/datum support library<br>
<a href=http://www.gdal.org>GDAL raster library and toolset</a><br>
<a href=http://www.gdal.org/ogr/>OGR vector library and toolset</a>

<H2>SEE ALSO</H2>
 
<EM><a href="g.setproj.html">g.setproj</a></EM><BR>
<EM><a href="r.in.gdal.html">r.in.gdal</a></EM><BR>
<EM><a href="v.in.ogr.html">v.in.ogr</a></EM>

<h2>AUTHOR</h2>

Paul Kelly

<p><i>Last changed: $Date$</i>
