<H2>DESCRIPTION</H2>

The command provides full parser support for GRASS scripts.
<P>

<H2>OPTIONS</H2>

The arguments are stored in environment variables, named
GIS_FLAG_&lt;name&gt; for flags and GIS_OPT_&lt;name&gt; for options.
 
For flags, the value will be "1" if the flag was given, and "0"
otherwise.
<P>

<pre>
#!/bin/sh

# g.parser demo script

#%Module
#%  description: g.parser test script   
#%End
#%flag
#%  key: f
#%  description: a flag
#%END
#%option
#% key: raster
#% type: string
#% gisprompt: old,cell,raster
#% description: raster input map
#% required : yes
#%end
#%option
#% key: vector
#% type: string
#% gisprompt: old,vector,vector
#% description: vector input map
#% required : yes
#%end
#%option
#% key: option1
#% type: string
#% description: an option
#% required : yes
#%end

if [ "$1" != "@ARGS_PARSED@" ] ; then
  exec $GISBASE/etc/bin/cmd/g.parser "$0" "$@"
fi

#add your code here
echo ""
if [ $GIS_FLAG_f -eq 1 ] ; then
  echo "Flag -f set"
else
  echo "Flag -f not set"
fi

echo "Value of GIS_OPT_option1: '$GIS_OPT_option1'"
echo "Value of GIS_OPT_raster: '$GIS_OPT_raster'"
echo "Value of GIS_OPT_vect: '$GIS_OPT_vector'"

#add your code here
</pre>

<P>
The <tt>test.sh</tt> script will provide following help text:
<P>
<pre>
./test.sh --help

Description:
 g.parser test script
 
Usage:
 test.sh [-f] option=name
 
Flags:
  -f   a flag
 
Parameters:
  option   an option
</pre>

<H2>NOTES</H2>

An option can be instructed to allow multiple inputs by adding the following line:
<pre>#% multiple : yes</pre>
While this will only directly change the <i>Usage</i> section of the help
screen, the option's environmental string may be easily parsed from within
a script. For example, individual comma separated identities for an option 
named "input" can be parsed with the following Bash shell code:

<pre>IFS=,
for opt in $GIS_OPT_input ; do
	... "$opt"
done
</pre>

<H2>SEE ALSO</H2>

<EM><A HREF="g.findfile.html">g.findfile</A></EM>

<H2>AUTHOR</H2>

Glynn Clements
<p><i>Last changed: $Date$</i>
