<h2>DESCRIPTION</h2>

<em>v.overlay</em> allows the user to overlay two vector area maps.
<!-- This is outdated 
There are 3 links attached to features in output map, 
<ul>
<li><b>field 1</b>: link to the new table, new table has 3 columns
    </ul>
        <li><b>cat</b> - key column linking rows to features
        <li><b>cata</b> - category of <i>afield</i> from <i>ainput</i>
        <li><b>catb</b> - category of <i>bfield</i> from <i>binput</i>
    <ul>
<li><b>field 2</b>: category of <i>afield</i> from <i>ainput</i>
<li><b>field 3</b>: category of <i>bfield</i> from <i>binput</i>
</ul>
-->
The resulting output map has a merged attribute-table. The origin column-names
have a prefix (<em>a_</em> and <em>b_</em>) which results from the ainput- and binput-map.

<h2>NOTES</h2>
Currently only areas are supported for the operators <em>or</em> and <em>xor</em>! See also <a href="v.select.html">v.select</a>.

The operator defines what kind of operation will be done. Features are written to output,
if the result of an operation 'ainput operator binput' is true.
<p>
Attributes of the tables from ainput and binput are joined into a new table
linked to the output maps new cat-column. 

<!-- This is outdated
<p>
<div class="code"><pre>
v.db.connect map=outputmap table=ainput.dbf field=2
v.db.connect map=outputmap table=binput.dbf field=3

</pre></div>

<p>
<b>Attention:</b> Removing the output map will also delete all tables linked to
it! Therefore it is advisable to copy tables from ainput and binput first and
connect the copied tables to the output map.-->

<h2>EXAMPLE POLYGON TO POLYGON UNION</h2>
<div class="code"><pre>
v.overlay ainput=lake binput=province output=lakeXprovince operator=or
</pre></div>

<h2>EXAMPLE POLYGON TO POLYGON UNION</h2>

Polygon union of urban area and Census 2000 areas (North Carolina dataset):

<div class="code"><pre>
# input maps
d.vect urbanarea
d.vect census_wake2000

# union
v.overlay ain=census_wake2000 bin=urbanarea out=urban_census2000 operator=or

# show result, graphically zooming a subset
g.region n=230400 s=223800 w=655800 e=662400
d.erase
d.vect urban_census2000

# show merged attribute table
v.db.select urban_census2000 where="cat=108" -v
cat|108
a_cat|98
a_AREA|231001264
a_PERIMETE|67804.305
a_TRACT_|98
a_TRACT_ID|98
a_RINGS_OK|1
a_RINGS_NO|0
a_ID|98
a_FIPSSTCO|37183
a_TRT2000|054108
a_STFID|37183054108
a_TRACTID|541.08
a_TRACT|541.08
b_cat|55
b_OBJECTID|55
b_UA|73261
b_NAME|Raleigh
b_UA_TYPE|UA
</pre></div>

<center>
<img src="v_overlay_urbanarea.png" alt="GRASS v.overlay: polygon to polygon union (input 1)" border=1>
<img src="v_overlay_census_wake2000.png" alt="GRASS v.overlay: polygon to polygon union (input 2)" border=1>
<img src="v_overlay_urban_census2000.png" alt="GRASS v.overlay: polygon to polygon union (result)" border=1>
<br>
<i>v.overlay: Polygon union of urban area and Census 2000 areas (North Carolina dataset)</i>
</center>


<h2>EXAMPLE LINE TO POLYGON CLIPPING</h2>

Using the North Carolina sample dataset, we clip the roads map to the area
of city of Raleigh:
<div class="code"><pre>
g.region vect=zipcodes_wake

# extract Raleigh city
v.extract in=zipcodes_wake out=raleigh \
            where="ZIPNAME = 'RALEIGH'"

# clip road network to city polygon:
v.overlay ainput=roadsmajor atype=line binput=raleigh \
            out=roadsmajor_raleigh operator=and
</pre></div>

<center>
<img src="v_overlay_area_lines.png" alt="GRASS v.overlay: Line to polygon clipping"><br>
<table border=0 width=590>
<tr><td><center>
<i>v.overlay: Line to polygon clipping</i>
</center></td></tr>
</table>
</center>


<h2>SEE ALSO</h2>

<em>
<a href="v.db.connect.html">v.db.connect</a>,
<a href="v.select.html">v.select</a>,
<a href="g.copy.html">g.copy</a></em>

<h2>AUTHORS</h2>

Radim Blazek, ITC-Irst, Trento, Italy

<p><i>Last changed: $Date$</i>
