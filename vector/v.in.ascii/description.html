<h2>DESCRIPTION</h2>

<em>v.in.ascii</em> converts a vector map in ASCII format to a vector map in 
binary format. The module may import two formats:
<UL>
<LI><B>standard</B> contains all data types, each coordinate on one row
<LI><B>point</B> (default) reads only points, each point defined on one row.
    Values are separated by a user definable deliminator. If the 'columns' option is not defined, 
    default names are used. It is possible to specify the column order for the 
    x,y,z coordinates and category values.
</UL>

<P> 
The input is read from a file specified by <B>input</B> option or from standard input.
<P>
Field separator may be a character, '\t' for tabulator, ' ' for blank.

<h2>NOTES</h2>

Use the <b>-z</b> flag to convert ASCII data into a 3D binary vector map.

<P>
A GRASS ASCII vector file (in <B>standard</B> mode) may contain a mix of 
primitives including points, lines, boundaries, centroids, areas, faces, 
and kernels.
<P>
The primitive codes are as follows:
<UL>
<LI>'A': area (boundary)<BR>
<LI>'B': boundary<BR>
<LI>'C': centroid<BR>
<LI>'L': line<BR>
<LI>'P': point<BR>
<LI>'F': face<BR>
<LI>'K': kernel<BR>
</UL>

The coordinates are listed following the initial line containing the
primitive code and the total number of vertices in the series. On top
a header has to be defined (see example below).<BR>
The order of coordinates is <BR><BR>
  X Y [Z]
<P>
<b>Import of files without ID column</b><br>

In case that the input files does not contain any vector ID column,
there is the possibility to auto-generate these IDs (categories). 
For that, to automatically add an additional column 'cat', the 
<em>cat</em> parameter has to be set to the virtual column number 0 
(<em>cat=0</em>). The name for the auto-generated column is set to 'cat'.

<P>
<b>Importing from a spreadsheet</b><br>
Data may be imported from many spreadsheet programs by saving the 
spreadsheet as a comma separated variable (.csv) text file, and then 
using the <b>fs=','</b> option with <em>v.in.ascii</em> in <b>points</b> mode.


<h2>EXAMPLES</h2>

<b>Example 1</b><br>
Sample ASCII polygon vector file for 'standard' mode. 
Note the blank before entering vertex coordinates:
<p>
<pre>
       ORGANIZATION: GRASS Development Team
       DIGIT DATE:   1/9/2005
       DIGIT NAME:   -
       MAP NAME:     test
       MAP DATE:     2005
       MAP SCALE:    10000
       OTHER INFO:   Test polygons
       ZONE:         0
       MAP THRESH:   0.500000
       VERTI:
       A  6
        5958812.48844435 3400828.84221011
        5958957.29887089 3400877.11235229
        5959021.65906046 3400930.7458436
        5959048.47580612 3400973.65263665
        5959069.92920264 3401032.64947709
        5958812.48844435 3400828.84221011
       A  4
        5959010.9323622 3401338.36037757
        5959096.7459483 3401370.54047235
        5959091.38259917 3401450.99070932
        5959010.9323622 3401338.36037757
</pre>
<P>
To create a vector line of a GPS track, in a similar way the GPS points have
to be stored into a file with a preceding 'L' and the number of points (per line).

<p><BR>
<b>Example 2</b><br>

Generate a 2D points vector file 'coords.txt' as ASCII file:
<pre>
  1664619|5103481
  1664473|5095782
  1664273|5101919
  1663427|5105234
  1663709|5102614
</pre>
<P>
Import into GRASS:
<pre>
cat coords.txt | v.in.ascii out=mymap
</pre>
As the <em>cat</em> option is set to 0 by default, an extra column 'cat'
containing the IDs will be auto-generated.

<p><BR>
<b>Example 3</b><br>

Generate a 2D points vector file 'points.dat' as ASCII file:
<pre>
  1|1664619|5103481|studna
  2|1664473|5095782|kadibudka
  3|1664273|5101919|hruska
  4|1663427|5105234|mysi dira
  5|1663709|5102614|mineralni pramen
</pre>
<P>
Import into GRASS:
<pre>
cat points.dat | v.in.ascii out=mypoints x=2 y=3 cat=1 \
    columns='cat int, x double, y double, label varchar(20)'
</pre>
<P>
<b>The module is reading from standard input, using the default '|' (pipe) delimiter.</b>

<p><BR>
<b>Example 4</b><br>
Generating a 3D points vector map from DBMS (idcol must be an integer column):<br>
<pre>
echo "select east,north,elev,idcol from mytable " | db.select -c | v.in.ascii -z out=mymap
</pre>

<b>The module is reading from standard input, using the default '|' (pipe) delimiter.</b>
<br>
The import works for 2D maps as well (no elev column and no '-z' flag).

<p><BR>
<b>Example 5</b><br>

Generate a 3D points vector file 'points3d.dat' with attributes as ASCII file:
<pre>
593493.1|4914730.2|123.1|studna|well
591950.2|4923000.5|222.3|kadibudka|closet
589860.5|4922000.0|232.3|hruska|pear
590400.5|4922820.8|143.2|mysi dira|mouse hole
593549.3|4925500.7|442.6|mineralni pramen|mineral spring
600375.7|4925235.6|342.2|kozi stezka|goat path
</pre>
<P>
Import into GRASS:
<pre>
#As <em>cat</em> is set to 0 by default, an extra column 'cat' containing
#the IDs will be auto-generated (no need to define that):
cat points3d.dat | v.in.ascii -z z=3 cat=0 out=mypoints3D \
                   columns='x double, y double, z double, label_cz varchar(20), label_en varchar(20)'
v.info -c mypoints3D
v.info mypoints3D
</pre>


<p><BR>
<b>Example 6</b><br>
Generate points file by clicking onto the map:
<pre>
#For LatLong locations:
d.where -d -l | awk '{printf "%f|%f|point\n", $1, $2}' | v.in.ascii out=points cat=0 columns='x double, y double, label varchar(20)'

#For other projections:
d.where | awk '{printf "%f|%f|point\n", $1, $2}' | v.in.ascii out=points cat=0 columns='x double, y double, label varchar(20)'
</pre>
The 'point' string (or some similar entry) is required to generate a database table.
When simply piping the coordinates (and optionally height) without additional column(s) 
into <em>v.in.ascii</em>, only the vector map geometry will be generated.

<P>
The GRASS program <em><a HREF="v.out.ascii.html">v.out.ascii</a></em>
performs the function of <em>v.in.ascii</em> in reverse;
i.e., it converts vector files in binary format to ASCII
format.  These two companion programs are useful both for
importing and exporting vector files between GRASS and
other software, and for transferring data between
machines.

<p>


<h2>SEE ALSO</h2>

<em><a HREF="db.execute.html">db.execute</a></em>,
<em><a HREF="v.db.connect.html">v.db.connect</a></em>,
<em><a HREF="v.out.ascii.html">v.out.ascii</a></em>,
<em><a HREF="v.build.html">v.build</a></em><BR>
<em><a HREF="v.build.polylines.html">v.build.polylines</a></em><BR>
<a HREF="sql.html">SQL command notes</a> for creating databases<BR>
<a HREF="http://freegis.org/cgi-bin/viewcvs.cgi/~checkout~/grass6/doc/vector/vector.html#ascii">Vector ASCII Format Specification</a>
<BR>

<h2>AUTHORS</h2>

Michael Higgins,
U.S.Army Construction Engineering 
Research Laboratory<br>
James Westervelt, U.S.Army Construction Engineering 
Research Laboratory<br>
Radim Blazek, ITC-Irst, Trento, Italy

<p><i>Last changed: $Date$</i>
