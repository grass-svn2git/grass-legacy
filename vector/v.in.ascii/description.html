<h2>DESCRIPTION</h2>

<em>v.in.ascii</em> converts a vector map in ASCII format to a vector map in 
binary format. The module may be run in 2 modes:
<UL>
<LI><B>standard</B>: if the <B>'input'</B> option is used the module reads a
    GRASS ASCII vector file from the <B>$MAPSET/dig_ascii/</B> directory.
<LI><B>points</B>: if <B>'input'</B> is not used the module reads points from 
    standard input. Each point must be defined on one row, values separated by 
    a user definable deliminator. If the 'columns' option is not defined, 
    default names are used. It is possible to specify the column order for the 
    x,y,z coordinates and category values.
</UL>


<h2>NOTES</h2>

Use the <b>-z</b> flag to convert ASCII data into a 3D binary vector map.

<p>
After running this program, GRASS support files must be built with 
<em><a HREF="v.build.html">v.build</a></em> for the binary <em>output</em> 
map.

<P>
A GRASS ASCII vector file (in <B>standard</B> mode) may contain a mix of 
primitives including points, lines, boundaries, centroids, areas, faces, 
and kernels.
<P>
The primitive codes are as follows:
<UL>
<LI>'A': area (boundary)<BR>
<LI>'B': boundary<BR>
<LI>'C': centroid<BR>
<LI>'L': line<BR>
<LI>'P': point<BR>
<LI>'F': face<BR>
<LI>'K': kernel<BR>
</UL>

The coordinates are listed following the initial line containing the
primitive code and the total number of vertices in the series. 
For historical reasons <i>the GRASS ASCII vector format lists northings 
before eastings.</i>
When importing data from stdin in <B>points</B> mode however, 
eastings are listed before northings as per the usual convention.
Sorry about the confusion.

<P>
<b>Importing from a spreadsheet</b><br>
Data may be imported from many spreadsheet programs by saving the 
spreadsheet as a comma separated variable (.csv) text file, and then 
using the "fs=," option with <em>v.in.ascii</em> in <b>points</b> mode.


<h2>EXAMPLES</h2>

<b>Example 1</b><br>
Direct file editing:
Sample ASCII vector file (stored in $MAPSET/dig_ascii/). Note the blank before
entering vertex coordinates:<p>
<pre>
       ORGANIZATION: GRASS Development Team
       DIGIT DATE:   1/9/2002
       DIGIT NAME:   -
       MAP NAME:     test
       MAP DATE:     2002
       MAP SCALE:    10000
       OTHER INFO:   Test polygons
       ZONE:         0
       MAP THRESH:   0.500000
       VERTI:
       A  6
        5958812.48844435 3400828.84221011
        5958957.29887089 3400877.11235229
        5959021.65906046 3400930.7458436
        5959048.47580612 3400973.65263665
        5959069.92920264 3401032.64947709
        5958812.48844435 3400828.84221011
       A  4
        5959010.9323622 3401338.36037757
        5959096.7459483 3401370.54047235
        5959091.38259917 3401450.99070932
        5959010.9323622 3401338.36037757
</pre>

The associated dig_att file needs following format (stored in $MAPSET/dig_att/):<p>

<pre>
       A 3401180.463379 5959003.209139          1
       A 3401516.741397 5958966.635071          2
</pre>

<p>

The associated dig_cats file needs following format:<p>

<pre>
      # 2 categories
      Vector map: test
 
      0.00 0.00 0.00 0.00
      1:forest
      2:water
</pre>

<p><BR>
<b>Example 2</b><br>

Generate a 2D points vector file 'coords.txt' as ASCII file:
<pre>
  1664619|5103481
  1664473|5095782
  1664273|5101919
  1663427|5105234
  1663709|5102614
</pre>
<P>
Import into GRASS:
<pre>
cat coords.txt | v.in.ascii out=mymap
</pre>

<p><BR>
<b>Example 3</b><br>

Generate a 2D points vector file 'points.dat' as ASCII file:
<pre>
  1|1664619|5103481|studna
  2|1664473|5095782|kadibudka
  3|1664273|5101919|hruska
  4|1663427|5105234|mysi dira
  5|1663709|5102614|mineralni pramen
</pre>
<P>
Import into GRASS:
<pre>
cat points.dat | v.in.ascii out=mypoints xcol=2 ycol=3 catcol=1 columns='cat int, x double, y double, label varchar(20)'
</pre>
<P>
<b>The module is reading from standard input, using the default '|' (pipe) delimiter.</b>

<p><BR>
<b>Example 4</b><br>
Generating a 3D points vector map from DBMS (idcol must be an integer column):<br>
<pre>
echo "select east,north,elev,idcol from mytable " | db.select -c | v.in.ascii -z out=mymap
</pre>

<b>The module is reading from standard input, using the default '|' (pipe) delimiter.</b>
<br>
The import works for 2D maps as well (no elev column and no '-z' flag).

<p><BR>
<b>Example 5</b><br>

Generate a 3D points vector file 'points3d.dat' with attributes as ASCII file:
<pre>
593493.1|4914730.2|123.1|studna
591950.2|4923000.5|222.3|kadibudka
589860.5|4922000.0|232.3|hruska
590400.5|4922820.8|143.2|mysi dira
593549.3|4925500.7|442.6|mineralni pramen
600375.7|4925235.6|342.2|mineralni silnice
</pre>
<P>
Import into GRASS:
<pre>
cat points3d.dat | v.in.ascii -z zcol=3 catcol=0 out=mypoints3D columns='x double, y double, z double, label varchar(20)'
v.info -c mypoints3D
v.info mypoints3D
</pre>
An additional column 'cat' will be automatically added when <em>catcol=0</em> (in case that no IDs are present in the
input file).

<P>
The GRASS program <em><a HREF="v.out.ascii.html">v.out.ascii</a></em>
performs the function of <em>v.in.ascii</em> in reverse;
i.e., it converts vector files in binary format to ASCII
format.  These two companion programs are useful both for
importing and exporting vector files between GRASS and
other software, and for transferring data between
machines.

<p>

The input from <em>v.in.ascii</em> has to be placed into
<kbd>$LOCATION/$MAPSET/dig_ascii</kbd> (this directory must be created if it does not exist)
or piped into the module.


<h2>SEE ALSO</h2>

<em><a HREF="v.out.ascii.html">v.out.ascii</a></em>,
<em><a HREF="v.build.html">v.build</a></em>


<h2>AUTHORS</h2>

Michael Higgins,
U.S.Army Construction Engineering 
Research Laboratory<br>
James Westervelt, U.S.Army Construction Engineering 
Research Laboratory<br>
Radim Blazek, ITC-Irst, Trento, Italy

<p><i>Last changed: $Date$</i>
