<H2>DESCRIPTION</H2>

<EM><b>v.rast.stats</b></EM> - Calculates basic univariate statistics from
a raster map only for the parts covered by the specified vector map.
The vector map will be rasterized according to the raster map resolution.
Then univariate statistics are calculated per vector category (cat) from
the raster map and the results uploaded to the vector map attribute table.
New columns are generated in the attribute table if not already present.
<p>
Nine columns are generated (n, min, max, range, mean, stddev, variance, 
coeff_var, sum) according to the output of <em>r.univar</em>.
If the <B>-e</B> extended statistics flag is given the 1st quartile,
median, 3rd quartile, and given percentile are also calculated.


<H2>NOTES</H2>

The module may take a long time to run if the raster region contains a large
number of cells. In this case the <B>--verbose</B> flag may be used to track
progress.
<p>
The script stops if a (prefixed) upload column is already present in the
vector map attribute table, unless otherwise instructed with the <B>-c</B>
continue flag. The column prefix will be separated from the statistic name
with an underscore. For example with a prefix of "<tt>elev</tt>" the sum
column will be named <tt>elev_sum</tt>.
<P>
If a DBF database is being used, note that column names are restricted by the
DBF specification to 10 characters. Therefore it is advised to be economical
in the use of the column prefix when using DBF as any additional characters
will be chopped off.
<p>
If a MASK is present, it will be restored after the script finished.
The script changes temporarily to the resolution of the given raster map.
<P>
<!-- r.univar limitation -->
Large amounts of system memory can be used when the <B>-e</B> extended
statistics flag is used with a very large region setting. If the region
is too large the module should display memory allocation errors.
Basic statistics can be calculated using any size input region.


<H2>EXAMPLES</H2>

Example to upload DEM statistics to vector field patches:

<div class="code"><pre>
# work on copy of original map:
g.copy vect=fields,myfields
# if needed, zoom to raster map:
g.region rast=elevation.dem -p
# calculate DEM statistics, upload to vector map table:
v.rast.stats myfields raster=elevation.dem colprefix=dem
# verify results:
v.info -c myfields
v.db.select myfields
v.univar myfields column=dem_range type=centroid
</pre></div>


<H2>SEE ALSO</H2>

<EM>
<A HREF="r.univar.html">r.univar</A>, 
<A HREF="v.univar.html">v.univar</A>,
<a HREF="v.what.rast.html">v.what.rast</a>,
<a href="v.what.vect.html">v.what.vect</a>
</EM>

<H2>AUTHOR</H2>

Markus Neteler, CEA (<a href="http://www.eden-fp6project.net/">EDEN Project</a>)

<p>
<i>Last changed: $Date$</i>
