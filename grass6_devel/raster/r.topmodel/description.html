<h2>DESCRIPTION</h2>

<b><em>r.topmodel</em></b> simulates TOPMODEL which is a physically based
hydrologic model.
<p>
Note: (i) means input; (o) means output; (o/i) means input or output
<p>
The <b>-i</b> flag indicates that input data are given for (o/i).  Without this
flag, all inputs (i) and intermediate outputs (o/i) should be given.  For
example, [belevation] map will be created from [elevation] and [basin] in every
run.  However, given the same [elevation] and [basin], [belevation] output will
be the same all the time, so r.topmodel can directly take [belevation] as an
input with this flag to save time.
<p>

<h3>Selected Parameters:</h3>

<dl>
<dt><b>depressionless</b> map is created as follows:</dt>
<dd><div class="code"><pre>
r.fill.dir input=elevation elev=depressionless dir=direction type=grass
</pre></div>
This option can be omitted if [elevation] map is already depressionless.
</dd>
<p>

<dt><b>belevation</b> map is created from [elevation] with [basin] mask applied:</dt>
<dd><div class="code"><pre>
r.mapcalc "belevation = if(basin == 0 || isnull(basin), null(), elevation)"
</pre></div></dd>
<p>

<dt><b>topidx</b> map is created as follows:</dt>
<dd><div class="code"><pre>
r.topidx input=elevation output=topidx
</pre></div></dd>
<p>

<dt><b>Qobs</b></dt>
<dd>Compare simulated flows with observed flows and calculate model
efficiency.
</dd>
<p>
</dl>

<h2>SEE ALSO</h2>
<em><a href="r.fill.dir.html">r.fill.dir</a></em>,
<em><a href="r.mapcalc.html">r.mapcalc</a></em>,
<em><a href="r.topidx.html">r.topidx</a></em>,
<em><a href="http://geni.ath.cx/r.topmodel.html">How to run r.topmodel</a></em>

<h2>AUTHORS</h2>
Main algorithm sources are rewritten in C based on TMOD9502.FOR.
<br>
Thanks to Keith Beven.
<p>
GRASS port by <a href=mailto:grass4u gmail com>Huidae Cho</a><br>
Hydro Laboratory, Kyungpook National University, South Korea

<p><i>Last changed: $Date: 2008-05-16 20:09:06 +0100 (Fri, 16 May 2008) $</i>
